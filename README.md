# Astro-Insight: æ˜Ÿä¹‹æ‰€é—®ï¼Œä¿¡ä¹‹æ‰€å½’

<div align="center">
  <img src="photo/top.jpg" alt="Astro-Insightå±•ç¤ºå›¾" width="800"/>
  <p><em>ğŸŒŒ æ¢ç´¢å®‡å®™å¥¥ç§˜çš„æ™ºèƒ½åŠ©æ‰‹</em></p>
</div>

ä¸€æ¬¾é¢å‘æœªæ¥çš„å¤©æ–‡ç ”ç©¶åŠ©æ‰‹ï¼ŒåŸºäº **LangGraph** ä¸ **MCP** æŠ€æœ¯é©±åŠ¨ã€‚

[å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) | [APIæœåŠ¡](./api_service/) | [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„) | [æ¼”ç¤º](./interactive_demo.py) | [æµç¨‹å›¾](./å±•ç¤ºæµç¨‹å›¾.md)

## é¡¹ç›®ä»‹ç»

**Astro-Insight** æ˜¯ä¸€ä¸ªæ–°ä¸€ä»£çš„ **AI é©±åŠ¨å¤©æ–‡ç ”ç©¶åŠ©æ‰‹**ï¼Œä¾æ‰˜ **LangGraph å·¥ä½œæµå¼•æ“** å’Œ **MCP é›†æˆæŠ€æœ¯**ã€‚è¯¥ç³»ç»Ÿä¸ºä¸šä½™å¤©æ–‡çˆ±å¥½è€…å’Œä¸“ä¸šç ”ç©¶äººå‘˜æä¾›äº†ä¸€å¥—å…¨é¢çš„å·¥å…·ï¼ŒåŒ…æ‹¬æ™ºèƒ½é—®ç­”ã€å®æ—¶å¤©ä½“æ£€ç´¢ã€å¤©ä½“åˆ†ç±»åˆ†æã€è‡ªåŠ¨åŒ–å®éªŒå’Œæ™ºèƒ½ä»£ç ç”Ÿæˆã€‚

**äº®ç‚¹ï¼š**

- **å¤šæ™ºèƒ½ä½“LangGraphæ¶æ„**ï¼šç¼–æ’çµæ´»çš„å¤©æ–‡ç ”ç©¶å·¥ä½œæµ
- **å®æ—¶SIMBADé›†æˆ**ï¼šé€šè¿‡è‡ªç„¶è¯­è¨€è®¿é—®ä¸“ä¸šå¤©æ–‡æ•°æ®åº“
- **æ™ºèƒ½ä»£ç ç”Ÿæˆ**ï¼šè‡ªç„¶è¯­è¨€è½¬å¯æ‰§è¡ŒPythonä»£ç å¹¶å¯è§†åŒ–
- **MCPåè®®æ”¯æŒ**ï¼šé›†æˆæœºå™¨å­¦ä¹ æ¨¡å‹å’Œæ£€ç´¢å·¥å…·
- **é«˜çº§æ•°æ®åˆ†æ**ï¼šé›†æˆSupabaseå¤„ç†å¤§è§„æ¨¡å¤©æ–‡æ•°æ®é›†

## æ ¸å¿ƒåŠŸèƒ½

### é¡¹ç›®åŠŸèƒ½å±•ç¤º

| åŠŸèƒ½ | æè¿° |
|:----:|:----:|
| **æ™ºèƒ½é—®ç­”** | å…·æœ‰ä¸Šä¸‹æ–‡æ„ŸçŸ¥å“åº”çš„é«˜çº§å¤©æ–‡çŸ¥è¯†åº“ |
| **å¤©ä½“åˆ†ç±»** | å®æ—¶SIMBADæ•°æ®åº“é›†æˆè¿›è¡Œå¤©ä½“è¯†åˆ« |
| **æ•°æ®åˆ†æ** | å¤©æ–‡æ•°æ®é›†çš„è‡ªåŠ¨æŸ¥è¯¢ç”Ÿæˆå’Œå¯è§†åŒ– |
| **æ–‡çŒ®ç»¼è¿°** | AIé©±åŠ¨çš„å­¦æœ¯è®ºæ–‡å‘ç°å’Œç»¼åˆ |
| **ä»£ç ç”Ÿæˆ** | è‡ªç„¶è¯­è¨€è½¬Pythonä»£ç ï¼Œå…·æœ‰å®‰å…¨æ‰§è¡Œç¯å¢ƒ |
| **å¤šè½®å¯¹è¯** | ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„å¯¹è¯ç®¡ç† |
| **MCPé›†æˆ** | æœºå™¨å­¦ä¹ æ¨¡å‹å’Œæ£€ç´¢å·¥å…·é›†æˆ |

### é›†æˆæ•°æ®é›†

- **SDSSæ˜Ÿç³»åˆ†ç±»DR18**ï¼šçº¦100,000æ¡è®°å½•ï¼Œ43ä¸ªç‰¹å¾
- **æ’æ˜Ÿç±»å‹é¢„æµ‹æ•°æ®é›†**ï¼š240æ¡è®°å½•ï¼Œæ¶µç›–6ç§æ’æ˜Ÿåˆ†ç±»
- **å®æ—¶SIMBADè®¿é—®**ï¼šå®æ—¶å¤©æ–‡å¤©ä½“æ•°æ®åº“
- **Supabaseäº‘å­˜å‚¨**ï¼šå¯æ‰©å±•çš„æ•°æ®ä»“åº“é›†æˆ

### æŠ€æœ¯äº®ç‚¹

- **LangGraphå·¥ä½œæµå¼•æ“**ï¼šå…ˆè¿›çš„å¤šæ™ºèƒ½ä½“ç¼–æ’
- **å®‰å…¨ä»£ç æ‰§è¡Œ**ï¼šæ²™ç›’Pythonç¯å¢ƒï¼Œå…·æœ‰é”™è¯¯æ¢å¤åŠŸèƒ½
- **å¤šLLMæ”¯æŒ**ï¼šOllamaã€OpenAIã€DeepSeekã€Claudeã€Geminié›†æˆ
- **ä¸“ä¸šAPI**ï¼šå…·æœ‰å…¨é¢æ–‡æ¡£çš„RESTfulæœåŠ¡
- **å“åº”å¼æ¶æ„**ï¼šä»æ¡Œé¢åˆ°äº‘éƒ¨ç½²çš„å¯æ‰©å±•æ€§

## å¿«é€Ÿå¼€å§‹

### 5åˆ†é’Ÿè®¾ç½®

**æ­¥éª¤1ï¼šå…‹éš†ä»“åº“**
```bash
git clone https://github.com/xinzhuwang-wxz/Astro-Insight.git
cd Astro-Insight
```

**æ­¥éª¤2ï¼šå®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

**æ­¥éª¤3ï¼šé…ç½®ç¯å¢ƒ**
```bash
# ç¼–è¾‘conf.yamlæ·»åŠ æ‚¨çš„APIå¯†é’¥
cp conf.yaml conf_backup.yaml

# å¦‚ä½¿ç”¨æœ¬åœ°LLMå®‰è£…å¹¶å¯åŠ¨Ollama
ollama serve
ollama pull qwen2.5:7b
```

**æ­¥éª¤4ï¼šè¿è¡Œç³»ç»Ÿ**

```bash
# ç»ˆç«¯äº¤äº’æ¨¡å¼
python main.py

# å¯åŠ¨é¡¹ç›®APIæœåŠ¡, æµ‹è¯•å‰ç«¯
python api_service/start_api.py
open api_service/frontend_examples.html
```

## ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒæ¶æ„å›¾

```mermaid
graph TD
    A[ç”¨æˆ·è¾“å…¥æŸ¥è¯¢] --> B[åˆ›å»ºä¼šè¯]
    B --> C[èº«ä»½è¯†åˆ«]
    C --> D{ç”¨æˆ·ç±»å‹åˆ¤æ–­}
    
    D -->|ä¸šä½™çˆ±å¥½è€…| E[é—®ç­”æµç¨‹]
    D -->|ä¸“ä¸šç ”ç©¶äººå‘˜| F[ä»»åŠ¡é€‰æ‹©]
    
    E --> G[åŸºç¡€å¤©æ–‡çŸ¥è¯†é—®ç­”]
    G --> H[LLMç”Ÿæˆå›ç­”]
    H --> I[è¿”å›ç»“æœ]
    
    F --> J{ä»»åŠ¡ç±»å‹}
    J -->|å¤©ä½“åˆ†ç±»| K[é€‰æ‹©æ•°æ®é›†]
    J -->|æ•°æ®æ£€ç´¢| L[è¿æ¥SIMBAD]
    J -->|å¯è§†åŒ–| M[åˆ†æéœ€æ±‚]
    J -->|å¤šæ¨¡æ€| N[ä»»åŠ¡åˆ†è§£]
    
    K --> O[é…ç½®å‚æ•°]
    O --> P[æ‰§è¡Œåˆ†ç±»]
    P --> Q[ç”Ÿæˆç»“æœ]
    
    L --> R[æŸ¥è¯¢æ•°æ®]
    R --> S[å¤„ç†ç»“æœ]
    S --> T[æ ¼å¼åŒ–è¾“å‡º]
    
    M --> U[é€‰æ‹©æ•°æ®æº]
    U --> V[ç”Ÿæˆä»£ç ]
    V --> W[æ‰§è¡Œå¯è§†åŒ–]
    
    N --> X[å¹¶è¡Œå¤„ç†]
    X --> Y[ç»“æœèåˆ]
    
    Q --> Z[æœ€ç»ˆè¾“å‡º]
    T --> Z
    W --> Z
    Y --> Z
    Z --> AA[ç”¨æˆ·ç•Œé¢]
```

### æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| **å‰ç«¯** | HTML5, CSS3, JavaScript, React (ç¤ºä¾‹) |
| **åç«¯** | Python 3.8+, FastAPI, LangGraph |
| **AI/ML** | LangChain, Ollama, OpenAI, DeepSeek, MCP |
| **æ•°æ®åº“** | SQLite, Supabase PostgreSQL |
| **API** | SIMBAD, Tavily, REST/WebSocket, MCPåè®® |
| **å·¥å…·é›†æˆ** | MCP ML, MCP Retrieval, Pythonæ‰§è¡Œå™¨ |
| **éƒ¨ç½²** | Docker, äº‘å°±ç»ª |



## BanchMark

### æ€§èƒ½åŸºå‡†æµ‹è¯•

<div align="center">
  <h3>ç³»ç»Ÿæ€§èƒ½å¯¹æ¯”</h3>
  
  <img src="photo/bench1.png" alt="åŸºå‡†æµ‹è¯•1" width="600"/>
  <p><em>å›¾1: ç³»ç»Ÿå“åº”æ—¶é—´å’Œå‡†ç¡®ç‡å¯¹æ¯”</em></p>
  
  <img src="photo/bench2.png" alt="åŸºå‡†æµ‹è¯•2" width="600"/>
  <p><em>å›¾2: ä¸åŒæ¨¡å‹åœ¨å¤©æ–‡æ•°æ®å¤„ç†ä»»åŠ¡ä¸Šçš„æ€§èƒ½è¡¨ç°</em></p>
</div>

### å…³é”®æŒ‡æ ‡

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| **å¹³å‡å“åº”æ—¶é—´** | < 2ç§’ | ä»ç”¨æˆ·è¾“å…¥åˆ°ç»“æœè¾“å‡º |
| **ä»£ç ç”Ÿæˆå‡†ç¡®ç‡** | > 90% | å¯æ‰§è¡ŒPythonä»£ç ç”Ÿæˆ |
| **å¤©ä½“è¯†åˆ«ç²¾åº¦** | > 95% | SIMBADæ•°æ®åº“æŸ¥è¯¢å‡†ç¡®ç‡ |
| **å¤šè½®å¯¹è¯è¿è´¯æ€§** | > 85% | ä¸Šä¸‹æ–‡ç†è§£ä¿æŒåº¦ |
| **æ•°æ®å¤„ç†ååé‡** | 1000+ è®°å½•/ç§’ | å¤§è§„æ¨¡æ•°æ®é›†å¤„ç†èƒ½åŠ› |


## APIæ–‡æ¡£

### RESTful APIç«¯ç‚¹

**åŸºç¡€URL**: `http://localhost:8000`

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° | è®¤è¯ |
|------|------|------|------|
| `/query` | POST | ä¸»è¦å¤©æ–‡æŸ¥è¯¢ | æ—  |
| `/status` | GET | ç³»ç»Ÿå¥åº·æ£€æŸ¥ | æ—  |
| `/docs` | GET | äº¤äº’å¼APIæ–‡æ¡£ | æ—  |

### æŸ¥è¯¢API

**è¯·æ±‚æ ¼å¼ï¼š**
```json
{
  "query": "åˆ†ç±»å¤©ä½“M87",
  "user_type": "professional"
}
```

**å“åº”æ ¼å¼ï¼š**
```json
{
  "success": true,
  "message": "æŸ¥è¯¢å¤„ç†æˆåŠŸ",
  "data": {
    "query": "åˆ†ç±»å¤©ä½“M87",
    "session_id": "",
    "user_type": "professional",
    "task_type": "data_retrieval",
    "current_step": "data_retrieval_completed",
    "is_complete": true,
    "answer": "",
    "generated_code": null,
    "execution_history": [
      {"node": "task_selector",
        "action": "retrieval",
        "input": "åˆ†ç±»å¤©ä½“M87",
        "output": "retrieval",
        "timestamp": },
      {"node": "data_retrieval_command_node",
        "action": "mcp_data_retrieval",
        "input": "åˆ†ç±»å¤©ä½“M87",
        "output": "",
        "timestamp": ,
        "details": {
          "retrieval_success": true,
          "result_length": }}
    ],
    "error_info": null},
  "timestamp": "",
  "execution_time": ,
}
```

## ä½¿ç”¨ç¤ºä¾‹

### çˆ±å¥½è€…

```bash
# åŸºç¡€å¤©æ–‡é—®é¢˜
python main.py -q "ä»€ä¹ˆæ˜¯é»‘æ´å‘€ï¼Ÿ"

# å¤©ä½“ä¿¡æ¯
python main.py -q "æˆ‘æ˜¯åˆå­¦è€…ï¼Œå‘Šè¯‰æˆ‘å…³äºä»™å¥³åº§æ˜Ÿç³»çš„ä¿¡æ¯"
```

### ä¸“ä¸šç ”ç©¶

```bash
# å¤©ä½“åˆ†ç±»
python main.py -q "æˆ‘æ˜¯ä¸“ä¸šäººå£«ï¼Œåˆ†ç±»å¤©ä½“M87"

# æ•°æ®åˆ†æ
python main.py -q "æˆ‘æ˜¯ä¸“ä¸šäººå£«ï¼Œåˆ†æSDSSæ˜Ÿç³»çº¢ç§»åˆ†å¸ƒ"

# æ–‡çŒ®ç»¼è¿°
python main.py -q "æˆ‘æ˜¯ä¸“ä¸šäººå£«ï¼Œç»¼è¿°ç³»å¤–è¡Œæ˜Ÿæ¢æµ‹æ–¹æ³•çš„æœ€æ–°è®ºæ–‡"
```

### ä»£ç ç”Ÿæˆ

```python
from src.coder.workflow import CodeGenerationWorkflow

workflow = CodeGenerationWorkflow()

# ç”Ÿæˆåˆ†æä»£ç 
result = workflow.run(
    "ä½¿ç”¨æ’æ˜Ÿç±»å‹æ•°æ®é›†åˆ›å»ºæ’æ˜Ÿåˆ†ç±»æ¨¡å‹"
)

# å¯è§†åŒ–å¤©æ–‡æ•°æ®
result = workflow.run(
    "ç»˜åˆ¶ä¸åŒæ’æ˜Ÿç±»å‹çš„æ¸©åº¦ä¸å…‰åº¦å…³ç³»å›¾"
)
```

### MCPé›†æˆ

```python
from src.mcp_ml_client import MCPMLClient
from src.mcp_retrieval.client import MCPRetrievalClient

# æœºå™¨å­¦ä¹ æ¨¡å‹è®­ç»ƒ
ml_client = MCPMLClient()
result = ml_client.train_model(
    "ä½¿ç”¨SDSSæ•°æ®è®­ç»ƒæ˜Ÿç³»åˆ†ç±»æ¨¡å‹"
)

# æ•°æ®æ£€ç´¢
retrieval_client = MCPRetrievalClient()
data = retrieval_client.search_astronomical_data(
    "æŸ¥æ‰¾M87æ˜Ÿç³»çš„ç›¸å…³æ•°æ®"
)
```


## è´¡çŒ®æŒ‡å—

### å¦‚ä½•è´¡çŒ®

1. Forkä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add amazing feature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/amazing-feature`
5. æ‰“å¼€Pull Request

### å¼€å‘è§„èŒƒ

- éµå¾ªPEP 8æ ‡å‡†
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£
- ä¿æŒå‘åå…¼å®¹æ€§

## å¼•ç”¨

å¦‚æœæ‚¨åœ¨ç ”ç©¶ä¸­ä½¿ç”¨Astro-Insightï¼Œè¯·å¼•ç”¨ï¼š

```bibtex
@software{astro_insight_2025,
  title={Astro-Insight: Advanced Astronomical Research Agent System},
  author={Astro-Insight Development Team},
  year={2025},
  url={https://github.com/xinzhuwang-wxz/Astro-Insight-official},
  note={LangGraph-MCP-powered astronomical research assistant}
}
```

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - è¯¦è§[LICENSE](LICENSE)æ–‡ä»¶ã€‚

## è‡´è°¢

- **SIMBADå¤©æ–‡æ•°æ®åº“** - å¤©ä½“æ•°æ®
- **Supabase** - äº‘æ•°æ®åº“åŸºç¡€è®¾æ–½
- **LangChain/LangGraph** - AIæ™ºèƒ½ä½“æ¡†æ¶
- **Ollama** - æœ¬åœ°LLMéƒ¨ç½²
- **Tavily** - ç½‘ç»œæœç´¢åŠŸèƒ½

---

**åœ¨GitHubä¸Šç»™æˆ‘ä»¬ç‚¹æ˜Ÿ** | **æŠ¥å‘Šé—®é¢˜** | **è¯·æ±‚åŠŸèƒ½** | **é˜…è¯»æ–‡æ¡£**

*é€šè¿‡æ™ºèƒ½AIåŠ©æ‰‹æ¨è¿›å¤©æ–‡ç ”ç©¶*