# ğŸ è™šæ‹Ÿç¯å¢ƒé…ç½®å’Œé¢„è£…åº“è¯´æ˜

## ğŸ“‹ ç›®å½•
- [å½“å‰ç¯å¢ƒæ¦‚è¿°](#å½“å‰ç¯å¢ƒæ¦‚è¿°)
- [é¢„è£…åº“æ¸…å•](#é¢„è£…åº“æ¸…å•)
- [ç¯å¢ƒé…ç½®æ–¹å¼](#ç¯å¢ƒé…ç½®æ–¹å¼)
- [åº“çš„æ¥æºå’Œå®‰è£…](#åº“çš„æ¥æºå’Œå®‰è£…)
- [æ²™ç®±æ‰§è¡Œæœºåˆ¶](#æ²™ç®±æ‰§è¡Œæœºåˆ¶)
- [ç¯å¢ƒé—®é¢˜æ’æŸ¥](#ç¯å¢ƒé—®é¢˜æ’æŸ¥)

## ğŸŒŸ å½“å‰ç¯å¢ƒæ¦‚è¿°

### åŸºæœ¬ä¿¡æ¯
- **ç¯å¢ƒç±»å‹**: Anaconda baseç¯å¢ƒ
- **Pythonç‰ˆæœ¬**: 3.11+ (Anacondaé»˜è®¤)
- **æ“ä½œç³»ç»Ÿ**: Windows 10/11
- **åŒ…ç®¡ç†å™¨**: conda (ä¸») + pip (è¾…)
- **ç¯å¢ƒä½ç½®**: `C:\Users\32830\anaconda3\`

### ç¯å¢ƒç‰¹ç‚¹
- âœ… **å³å¼€å³ç”¨**: æ— éœ€é¢å¤–è™šæ‹Ÿç¯å¢ƒé…ç½®
- âœ… **åº“ä¸°å¯Œ**: Anacondaé¢„è£…å¤§é‡ç§‘å­¦è®¡ç®—åº“
- âœ… **ç¨³å®šæ€§é«˜**: ç»è¿‡Anacondaå›¢é˜Ÿæµ‹è¯•çš„åº“ç‰ˆæœ¬ç»„åˆ
- âš ï¸ **ä¾èµ–å®¿ä¸»**: ä»£ç æ‰§è¡Œä¾èµ–å½“å‰Pythonç¯å¢ƒ
- âš ï¸ **å®‰å…¨æ€§ç›¸å¯¹è¾ƒä½**: ç›´æ¥ä½¿ç”¨å®¿ä¸»ç¯å¢ƒ

## ğŸ“¦ é¢„è£…åº“æ¸…å•

### æ ¸å¿ƒæ•°æ®ç§‘å­¦åº“
```python
# æ•°æ®å¤„ç†å’Œåˆ†æ
pandas              # æ•°æ®æ¡†æ¶å’Œåˆ†æ âœ…
numpy               # æ•°å€¼è®¡ç®—åŸºç¡€ âœ…
scipy               # ç§‘å­¦è®¡ç®—æ‰©å±• âœ…

# æœºå™¨å­¦ä¹ 
scikit-learn        # ç»å…¸æœºå™¨å­¦ä¹ ç®—æ³• âœ…
xgboost            # æ¢¯åº¦æå‡ç®—æ³• (å¯èƒ½éœ€è¦å•ç‹¬å®‰è£…)
lightgbm           # è½»é‡çº§æ¢¯åº¦æå‡ (å¯èƒ½éœ€è¦å•ç‹¬å®‰è£…)

# æ•°æ®å¯è§†åŒ–
matplotlib          # åŸºç¡€ç»˜å›¾åº“ âœ…
seaborn            # ç»Ÿè®¡å¯è§†åŒ– âœ…
plotly             # äº¤äº’å¼å¯è§†åŒ– âœ…

# å¤©æ–‡æ•°æ®å¤„ç†
astropy            # å¤©æ–‡æ•°æ®å¤„ç† âœ…
astroquery         # å¤©æ–‡æ•°æ®æŸ¥è¯¢ âŒ (éœ€è¦å®‰è£…)
```

### Pythonæ ‡å‡†åº“
```python
# ç³»ç»Ÿå’Œæ–‡ä»¶æ“ä½œ
os                 # æ“ä½œç³»ç»Ÿæ¥å£ âœ…
sys                # ç³»ç»Ÿå‚æ•°å’Œå‡½æ•° âœ…
pathlib            # é¢å‘å¯¹è±¡è·¯å¾„æ“ä½œ âœ…

# æ•°æ®æ ¼å¼
json               # JSONæ•°æ®å¤„ç† âœ…
csv                # CSVæ–‡ä»¶å¤„ç† âœ…
re                 # æ­£åˆ™è¡¨è¾¾å¼ âœ…

# æ•°å­¦å’Œç»Ÿè®¡
math               # æ•°å­¦å‡½æ•° âœ…
statistics         # ç»Ÿè®¡å‡½æ•° âœ…
datetime           # æ—¥æœŸæ—¶é—´å¤„ç† âœ…

# å·¥å…·åº“
collections        # ç‰¹æ®Šå®¹å™¨ç±»å‹ âœ…
itertools          # è¿­ä»£å™¨å·¥å…· âœ…
functools          # å‡½æ•°å·¥å…· âœ…
operator           # æ“ä½œç¬¦å‡½æ•° âœ…
warnings           # è­¦å‘Šæ§åˆ¶ âœ…
```

### å¯é€‰/ç¼ºå¤±åº“çŠ¶æ€
```python
# è‡ªç„¶è¯­è¨€å¤„ç† (ç”¨äºç¿»è¯‘åŠŸèƒ½)
langdetect         # è¯­è¨€æ£€æµ‹ âŒ
deep_translator    # æ·±åº¦ç¿»è¯‘ âŒ
google-trans-new   # è°·æ­Œç¿»è¯‘ âŒ
translators        # ç¿»è¯‘æœåŠ¡ âŒ

# äº‘æœåŠ¡SDK (ç”¨äºç¿»è¯‘)
azure-cognitiveservices-language-translator  # å¾®è½¯ç¿»è¯‘ âŒ
tencentcloud-sdk-python                      # è…¾è®¯äº‘ âŒ
alibabacloud-translate20181012               # é˜¿é‡Œäº‘ âŒ

# æ·±åº¦å­¦ä¹  (æŒ‰éœ€å®‰è£…)
tensorflow         # TensorFlow â“
torch              # PyTorch â“
```

## ğŸ”§ ç¯å¢ƒé…ç½®æ–¹å¼

### 1. å½“å‰é…ç½® (æ¨èç”¨äºå¼€å‘æµ‹è¯•)
```bash
# ç›´æ¥ä½¿ç”¨Anaconda baseç¯å¢ƒ
conda activate base

# æ£€æŸ¥å·²å®‰è£…åº“
conda list

# å®‰è£…ç¼ºå¤±çš„åº“
pip install astroquery langdetect deep_translator
```

### 2. ç‹¬ç«‹è™šæ‹Ÿç¯å¢ƒ (æ¨èç”¨äºç”Ÿäº§)
```bash
# åˆ›å»ºä¸“ç”¨ç¯å¢ƒ
conda create -n astro-coder python=3.11

# æ¿€æ´»ç¯å¢ƒ
conda activate astro-coder

# å®‰è£…åŸºç¡€åº“
conda install pandas numpy scipy scikit-learn matplotlib seaborn plotly astropy

# å®‰è£…é¢å¤–åº“
pip install astroquery langdetect deep_translator xgboost lightgbm
```

### 3. Dockerå®¹å™¨ (æ¨èç”¨äºéƒ¨ç½²)
```dockerfile
FROM continuumio/anaconda3:latest

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /app

# å¤åˆ¶requirementsæ–‡ä»¶
COPY requirements.txt .

# å®‰è£…ä¾èµ–
RUN pip install -r requirements.txt

# å¤åˆ¶åº”ç”¨ä»£ç 
COPY . .

# æš´éœ²ç«¯å£
EXPOSE 8000

# å¯åŠ¨å‘½ä»¤
CMD ["python", "server.py"]
```

## ğŸ“¥ åº“çš„æ¥æºå’Œå®‰è£…

### Anacondaé¢„è£…åº“
```python
# è¿™äº›åº“éšAnacondaè‡ªåŠ¨å®‰è£…ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ
pandas, numpy, scipy, matplotlib, seaborn, scikit-learn, astropy
```

### æ‰‹åŠ¨å®‰è£…åº“
```bash
# ä½¿ç”¨pipå®‰è£…çš„åº“ (åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­æ·»åŠ )
pip install langchain-core langchain-openai langgraph langchain-community

# å¤©æ–‡æ•°æ®ç›¸å…³
pip install astroquery

# å¯é€‰çš„æœºå™¨å­¦ä¹ åº“
pip install xgboost lightgbm

# ç¿»è¯‘åŠŸèƒ½ç›¸å…³ (å¯é€‰)
pip install langdetect deep_translator google-trans-new
```

### å®‰è£…å†å²è®°å½•
æ ¹æ®ç»ˆç«¯è¾“å‡ºï¼Œæˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­å®‰è£…äº†ï¼š
1. `langchain-core` - LangChainæ ¸å¿ƒåº“
2. `langchain-openai` - OpenAIé›†æˆ
3. `langgraph` - å›¾å·¥ä½œæµåº“
4. `langchain-community` - ç¤¾åŒºæ‰©å±•

## âš¡ æ²™ç®±æ‰§è¡Œæœºåˆ¶

### æ‰§è¡Œæ–¹å¼
```python
# ä»£ç æ‰§è¡Œå™¨ä½¿ç”¨Pythonå†…ç½®exec()å‡½æ•°
def _execute_in_sandbox(self, code, context):
    # åˆ›å»ºå—é™çš„å…¨å±€å‘½åç©ºé—´
    globals_dict = {
        '__builtins__': {
            'print': print,
            'len': len,
            'range': range,
            'enumerate': enumerate,
            # ... å…¶ä»–å®‰å…¨çš„å†…ç½®å‡½æ•°
        },
        '__import__': __import__,  # å…è®¸å¯¼å…¥
    }
    
    # æ‰§è¡Œä»£ç 
    exec(code, globals_dict)
```

### å®‰å…¨é™åˆ¶
```python
# 1. åº“å¯¼å…¥ç™½åå•
allowed_imports = {
    'pandas', 'numpy', 'matplotlib', 'seaborn', 'sklearn', 
    'scipy', 'astropy', 'plotly', 'warnings', 'os', 'sys'
}

# 2. å±é™©æ“ä½œé»‘åå•
forbidden_patterns = [
    'import subprocess',    # ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œ
    'import os.system',     # ç³»ç»Ÿè°ƒç”¨
    'exec(',               # åŠ¨æ€ä»£ç æ‰§è¡Œ
    'eval(',               # è¡¨è¾¾å¼æ±‚å€¼
    'open(',               # æ–‡ä»¶æ“ä½œ (å—é™)
    'input(',              # ç”¨æˆ·è¾“å…¥
]
```

### ç¯å¢ƒéš”ç¦»ç¨‹åº¦
- **è¿›ç¨‹çº§éš”ç¦»**: âŒ (åŒä¸€Pythonè¿›ç¨‹)
- **å‘½åç©ºé—´éš”ç¦»**: âœ… (å—é™çš„globalså’Œlocals)
- **æ–‡ä»¶ç³»ç»Ÿéš”ç¦»**: âš ï¸ (éƒ¨åˆ†é™åˆ¶ï¼Œå…è®¸è¯»å†™outputç›®å½•)
- **ç½‘ç»œéš”ç¦»**: âŒ (å¯è®¿é—®ç½‘ç»œ)
- **èµ„æºé™åˆ¶**: âš ï¸ (æ—¶é—´é™åˆ¶ï¼Œå†…å­˜ç›‘æ§åŸºç¡€)

## ğŸ” ç¯å¢ƒé—®é¢˜æ’æŸ¥

### å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

#### 1. ImportError: No module named 'xxx'
```bash
# é—®é¢˜: ç¼ºå°‘å¿…è¦çš„åº“
# è§£å†³: å®‰è£…ç¼ºå¤±çš„åº“
pip install xxx

# æ£€æŸ¥å·²å®‰è£…åº“
pip list | grep xxx
conda list | grep xxx
```

#### 2. ç‰ˆæœ¬å†²çªé—®é¢˜
```bash
# é—®é¢˜: åº“ç‰ˆæœ¬ä¸å…¼å®¹
# è§£å†³: åˆ›å»ºç‹¬ç«‹ç¯å¢ƒ
conda create -n clean-env python=3.11
conda activate clean-env
pip install -r requirements.txt
```

#### 3. è·¯å¾„é—®é¢˜
```python
# é—®é¢˜: Windowsè·¯å¾„åæ–œæ 
data_path = 'C:\data\file.csv'  # âŒ

# è§£å†³: ä½¿ç”¨æ­£æ–œæ æˆ–rawå­—ç¬¦ä¸²
data_path = 'C:/data/file.csv'   # âœ…
data_path = r'C:\data\file.csv'  # âœ…
```

#### 4. ç¼–ç é—®é¢˜
```python
# é—®é¢˜: ä¸­æ–‡è·¯å¾„æˆ–æ–‡ä»¶å
# è§£å†³: ç¡®ä¿ä½¿ç”¨UTF-8ç¼–ç 
pd.read_csv(file_path, encoding='utf-8')
```

### ç¯å¢ƒå¥åº·æ£€æŸ¥è„šæœ¬
```python
# check_environment.py
import sys
import importlib

required_packages = [
    'pandas', 'numpy', 'matplotlib', 'seaborn', 
    'sklearn', 'scipy', 'astropy'
]

print(f"Pythonç‰ˆæœ¬: {sys.version}")
print(f"Pythonè·¯å¾„: {sys.executable}")

for package in required_packages:
    try:
        importlib.import_module(package)
        print(f"âœ… {package}")
    except ImportError:
        print(f"âŒ {package} - éœ€è¦å®‰è£…")
```

## ğŸ“Š ç¯å¢ƒæ€§èƒ½åŸºå‡†

### åº“åŠ è½½æ—¶é—´
```python
# å…¸å‹åº“å¯¼å…¥æ—¶é—´ (é¦–æ¬¡)
pandas:      ~2.0s
numpy:       ~0.3s
matplotlib:  ~1.5s
sklearn:     ~3.0s
seaborn:     ~2.5s
```

### å†…å­˜ä½¿ç”¨
```python
# åŸºç¡€Pythonè¿›ç¨‹: ~50MB
# åŠ è½½pandas+numpy: ~150MB
# åŠ è½½å®Œæ•´æ•°æ®ç§‘å­¦æ ˆ: ~300MB
# æ‰§è¡Œæœºå™¨å­¦ä¹ ä»»åŠ¡: ~500MB+
```

### æ¨èçš„ç¯å¢ƒä¼˜åŒ–
1. **é¢„åŠ è½½å¸¸ç”¨åº“** - å‡å°‘é‡å¤å¯¼å…¥æ—¶é—´
2. **å†…å­˜ç›‘æ§** - é˜²æ­¢å†…å­˜æ³„æ¼
3. **å®šæœŸæ¸…ç†** - æ¸…ç†ä¸´æ—¶æ–‡ä»¶å’Œç¼“å­˜
4. **ç‰ˆæœ¬é”å®š** - ä½¿ç”¨requirements.txtå›ºå®šç‰ˆæœ¬

---

## ğŸ”— ç›¸å…³èµ„æº

- [Anacondaå®˜æ–¹æ–‡æ¡£](https://docs.anaconda.com/)
- [Pythonè™šæ‹Ÿç¯å¢ƒæŒ‡å—](https://docs.python.org/3/tutorial/venv.html)
- [pipç”¨æˆ·æŒ‡å—](https://pip.pypa.io/en/stable/user_guide/)
- [condaç”¨æˆ·æŒ‡å—](https://conda.io/projects/conda/en/latest/user-guide/index.html)

---

**æœ€åæ›´æ–°**: 2025-01-09  
**ç¯å¢ƒç‰ˆæœ¬**: Anaconda 2024.02 + Python 3.11  
**æµ‹è¯•å¹³å°**: Windows 10/11
